# DocumentaÃ§Ã£o das Views do Sistema

## VisÃ£o Geral

As views abaixo foram projetadas para otimizar consultas frequentes, garantir consistÃªncia nos cÃ¡lculos e simplificar o desenvolvimento do front-end e back-end.

---

## 1. `vw_produtos_detalhados`

### DescriÃ§Ã£o

Agrega informaÃ§Ãµes completas de produtos incluindo:

- MÃ©dia de avaliaÃ§Ãµes
- Tags associadas
- Dados de estoque
- InformaÃ§Ãµes do vendedor

### BenefÃ­cios

âœ… **Performance**: Elimina mÃºltiplos JOINs em consultas de listagem  
âœ… **ConsistÃªncia**: Centraliza o cÃ¡lculo de mÃ©dias de avaliaÃ§Ã£o  
âœ… **Facilidade**: Simplifica filtros (categoria, preÃ§o, avaliaÃ§Ã£o)

### Tabelas Envolvidas

- `produtos`
- `avaliacoes`
- `produto_tags`
- `tags`
- `vendedores`

---

## 2. `vw_carrinho_usuario`

### DescriÃ§Ã£o

Exibe itens no carrinho com:

- Subtotal calculado (preÃ§o Ã— quantidade)
- Imagem do produto
- Disponibilidade em estoque

### BenefÃ­cios

ğŸ›’ **Front-end**: ExibiÃ§Ã£o simplificada do carrinho  
ğŸ’° **CÃ¡lculos**: Subtotal sempre consistente  
ğŸŸï¸ **Cupons**: Base para aplicaÃ§Ã£o de descontos

### Tabelas Envolvidas

- `carrinho`
- `produtos`

---

## 3. `vw_pedidos_completos`

### DescriÃ§Ã£o

Mostra pedidos com:

- Itens agrupados em JSON
- Status atual
- Total do pedido
- Dados do cliente

### BenefÃ­cios

ğŸ“¦ **HistÃ³rico**: Evita consultas aninhadas  
ğŸ§¾ **NF-e**: Facilita geraÃ§Ã£o de invoices  
ğŸš€ **Performance**: Todos os dados em uma Ãºnica chamada

### Tabelas Envolvidas

- `pedidos`
- `itens_pedidos`
- `usuarios`

---

## 4. `vw_vendedores_metricas`

### DescriÃ§Ã£o

KPIs essenciais para vendedores:

- Total de produtos ativos
- NÃºmero de vendas
- MÃ©dia de avaliaÃ§Ãµes

### BenefÃ­cios

ğŸ“Š **Dashboard**: Dados prontos para exibiÃ§Ã£o  
ğŸ” **ModeraÃ§Ã£o**: Identifica baixo desempenho  
ğŸ“ˆ **OtimizaÃ§Ã£o**: Base para relatÃ³rios gerenciais

### Tabelas Envolvidas

- `vendedores`
- `produtos`
- `pedidos`

---

## 5. `vw_produtos_mais_vendidos`

### DescriÃ§Ã£o

Ranking de produtos por:

- Quantidade total vendida
- Filtrado por status "pago"

### BenefÃ­cios

ğŸ† **Destaques**: Alimenta seÃ§Ã£o "Mais Vendidos"  
ğŸ“Œ **EstratÃ©gia**: Identifica produtos populares  
ğŸ¯ **PromoÃ§Ãµes**: Base para descontos automÃ¡ticos

### Tabelas Envolvidas

- `produtos`
- `itens_pedidos`
- `pedidos`

---

## 6. `vw_estoque_critico`

### DescriÃ§Ã£o

Lista produtos com:

- Estoque abaixo de 5 unidades
- Status "ativo"

### BenefÃ­cios

âš ï¸ **Alertas**: Notifica reposiÃ§Ã£o necessÃ¡ria  
ğŸ›‘ **PrevenÃ§Ã£o**: Evita vendas sem estoque  
ğŸ“§ **IntegraÃ§Ã£o**: Pode disparar e-mails automÃ¡ticos

### Tabelas Envolvidas

- `produtos`

---

## 7. `vw_avaliacoes_produto`

### DescriÃ§Ã£o

Agrupa:

- AvaliaÃ§Ãµes do produto
- Dados do usuÃ¡rio (nome, foto)
- Notas atribuÃ­das

### BenefÃ­cios

â­ **UX**: ExibiÃ§Ã£o consolidada na pÃ¡gina  
ğŸ” **Filtros**: Facilita busca por avaliaÃ§Ãµes  
âš¡ **Performance**: Elimina JOINs repetitivos

### Tabelas Envolvidas

- `avaliacoes`
- `usuarios`

---

## 8. `vw_faturamento_mensal`

### DescriÃ§Ã£o

Resumo financeiro por mÃªs:

- Total de pedidos
- Receita bruta
- MÃ©dias comparativas

### BenefÃ­cios

ğŸ’µ **Financeiro**: Base para relatÃ³rios  
ğŸ“… **Sazonalidade**: Identifica tendÃªncias  
ğŸ”— **IntegraÃ§Ã£o**: CompatÃ­vel com ferramentas de BI

### Tabelas Envolvidas

- `pedidos`
- `itens_pedidos`

---

## Views Opcionais

| View                     | Principal Utilidade                       |
| ------------------------ | ----------------------------------------- |
| `vw_clientes_fieis`      | Marketing personalizado para clientes VIP |
| `vw_produtos_sem_vendas` | Ajuste de catÃ¡logo e precificaÃ§Ã£o         |
| `vw_frete_por_regiao`    | OtimizaÃ§Ã£o logÃ­stica baseada em CEP       |
